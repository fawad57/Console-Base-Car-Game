/*
Fawad Humayun (22i-2548)
Areeba Nisar(22i-8770)
SE-E
*/


#include <iostream>
#include<Windows.h>
#include"Gird_list.h"
#include"Queue_Node.h"
using namespace std;
class Level_Two {
	Grid_Node** arr;
public:
	Level_Two() {
		arr = new Grid_Node * [32];
		for (int i = 0; i < 32; i++)
		{
			arr[i] = new Grid_Node[32];
			for (int j = 0; j < 32; j++)
			{
				arr[i][j] = Grid_Node();
			}
		}
	}


	Grid_Node** level_Two_Grid() {

		//creating a maza in a 2D character array.

		char ch[32][32] = { {'_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_'},
							{'|','S','.','.','.','.','.','.','.','|','.','.','.','.','.','.','.','.','|','.','.','.','.','.','.','.','.','.','.','|','.','|'},
							{'|','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','|','.','.','.','.','.','.','.','.','.','.','|','.','|'},
							{'|','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','.','|','.','.','.','.','.','.','.','.','.','.','.','.','|'},
							{'|','-','-','-','.','.','-','-','-','-','-','-','-','-','-','-','.','.','|','.','.','-','-','-','-','-','-','-','.','.','.','|'},
							{'|','.','.','|','.','.','|','.','.','.','.','.','.','.','.','|','.','.','|','.','.','.','.','.','.','.','.','|','.','.','.','|'},
							{'|','.','.','|','.','.','|','.','.','.','.','.','.','.','.','|','.','.','|','.','.','.','.','.','.','.','.','|','.','.','.','|'},
							{'|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','.','.','.','.','.','.','|','.','.','.','|'},
							{'|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','-','-','-','-','-','-','.','.','|','.','.','.','|'},
							{'|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','.','.','.','.','.','.','.','.','.','|','.','.','|','.','.','-','|'},
							{'|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','.','.','.','.','.','.','.','.','.','|','.','.','|','.','.','.','|'},
							{'|','.','.','|','.','.','|','.','.','|','.','.','-','-','-','-','-','-','-','.','.','|','.','.','|','.','.','|','.','.','.','|'},
							{'|','.','.','.','.','.','|','.','.','|','.','.','.','.','.','.','.','.','.','.','.','|','.','.','|','.','.','|','-','.','.','|'},
							{'|','.','.','.','.','.','|','.','.','|','.','.','.','.','.','.','.','.','.','.','.','|','.','.','|','.','.','|','.','.','.','|'},
							{'|','.','.','.','.','.','|','.','.','|','.','.','|','-','-','-','-','-','-','.','.','|','.','.','|','.','.','|','.','.','.','|'},
							{'|','.','.','-','-','-','|','.','.','|','.','.','|','.','.','.','.','.','|','.','.','|','.','.','|','.','.','|','.','.','.','|'},
							{'|','.','.','.','.','.','|','.','.','|','.','.','|','.','.','.','.','.','|','.','.','|','.','.','|','.','.','|','.','.','-','|'},
							{'|','.','.','.','.','.','|','.','.','|','.','.','|','.','.','.','.','.','|','.','.','|','.','.','|','.','.','|','.','.','.','|'},
							{'|','.','.','.','.','.','.','.','.','|','.','.','|','.','.','.','.','.','|','.','.','|','.','.','|','.','.','|','.','.','.','|'},
							{'|','.','.','|','.','.','.','.','.','|','.','.','|','.','.','.','.','.','|','.','.','|','.','.','|','.','.','|','-','.','.','|'},
							{'|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','.','|'},
							{'|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','.','|'},
							{'|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','.','|'},
							{'|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','.','.','.','|','.','.','-','|'},
							{'|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','.','.','.','|','.','.','.','|'},
							{'|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','.','|'},
							{'|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','.','.','.','|','.','.','|','.','.','.','|'},
							{'|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','.','.','.','.','.','.','|','.','.','|','.','.','.','|'},
							{'|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','.','.','.','.','.','.','|','.','.','|','-','.','.','|'},
							{'|','.','.','.','.','.','.','.','.','.','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','.','|'},
							{'|','.','.','.','.','.','.','.','.','.','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','|','.','.','E','|'},
							{'-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'} };



		//this loop store the char array in the adjacent node.


		for (int i = 0; i < 32; i++)
		{
			for (int j = 0; j < 32; j++) {
				arr[i][j].ch = ch[i][j];
			}
		}

		int counter = 0;
		int x_axis, y_axis;


		srand(time(0));

		//this loop randomly generate the coins in a gird.


		while (counter != 31)
		{
			//cout << "1" << endl;
			x_axis = rand() % 32;
			y_axis = rand() % 32;
			if (arr[x_axis][y_axis].ch == '.') {
				arr[x_axis][y_axis].ch = '$';
				counter++;
			}
		}



		QueueNode queue;


		//this loop randomly generate the obstacles and store those obstacles in queue.

		counter = 0;
		while (counter != 21)
		{
			x_axis = rand() % 32;
			y_axis = rand() % 32;
			if (arr[x_axis][y_axis].ch == '.') {
				queue.enqueue(x_axis, y_axis);
				counter++;
			}
		}


		//this loop randomly generate the Trophies in a gird which will boost the scores in the end.


		counter = 0;
		while (counter != 5)
		{
			x_axis = rand() % 32;
			y_axis = rand() % 32;
			if (arr[x_axis][y_axis].ch == '.') {
				arr[x_axis][y_axis].ch = 'T';
				counter++;
			}
		}


		//this loop randomly generate the Mystery boxes in a gird which will boost the coins in the end.


		counter = 0;
		while (counter != 5)
		{
			x_axis = rand() % 32;
			y_axis = rand() % 32;
			if (arr[x_axis][y_axis].ch == '.') {
				arr[x_axis][y_axis].ch = 'B';
				counter++;
			}
		}


		counter = 0;

		//this loop randomly generate the + in a gird which boost the score by 1.

		while (counter != 29)
		{
			x_axis = rand() % 32;
			y_axis = rand() % 32;
			if (arr[x_axis][y_axis].ch == '.') {
				arr[x_axis][y_axis].ch = '+';
				counter++;
			}
		}

		//this loop dequeue obstacles from the list and placed them in a gird.

		Queue* q;
		do
		{
			q = queue.dequeue();
			if (q != NULL) {
				arr[q->x_axis][q->y_axis].ch = q->ch;
			}
		} while (q != NULL);


		counter = 0;

		//this loop randomly generate the fuel tanker in a gird which help the player to refill their fuel tank. 

		while (counter != 9)
		{
			x_axis = rand() % 32;
			y_axis = rand() % 32;
			if (arr[x_axis][y_axis].ch == '.') {
				arr[x_axis][y_axis].ch = 'f';
				counter++;
			}
		}

		counter = 0;

		//this loop randomly generate the keys in a gird which gives a live to the player.

		while (counter != 2)
		{
			x_axis = rand() % 32;
			y_axis = rand() % 32;
			if (arr[x_axis][y_axis].ch == '.') {
				arr[x_axis][y_axis].ch = 'K';
				counter++;
			}
		}

		//here we connected the up down left right nodes with each other.

		for (int i = 0; i < 32; i++)
		{
			for (int j = 0; j < 31; j++) {
				arr[i][j].right = &arr[i][j + 1];
				arr[i][j + 1].left = &arr[i][j];
			}
			if (i > 0) {
				for (int j = 0; j < 32; j++)
				{
					arr[i][j].up = &arr[i - 1][j];
					arr[i - 1][j].down = &arr[i][j];
				}
			}
		}

		return arr;

	}



};